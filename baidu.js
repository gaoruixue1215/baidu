$(function(){var e=$("#user"),t=$("#tel"),l=$("#pwd"),s=$("#btn"),r=$("#getCode"),o=$("#code"),c=30;function d(e){var t=$(e),l=$(e+"-validation");if("#user"===e){if(""===t.val())return l.html("用户名不能为空"),t.select(),t.css("border","1px solid red"),flase;if(!/^(?!\d+$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/.test(t.val()))return l.html("用户名仅支持中英文、数字和下划线，且不能为纯数字"),t.css("border","1px solid red"),t.select(),flase}if("#tel"===e){if(""===t.val())return l.html("手机号不能为空"),t.select(),t.css("border","1px solid red"),flase;if(!/^1[3456789]\d{9}$/.test(t.val()))return l.html("手机号格式不正确"),void t.css("border","1px solid red")}if("#pwd"===e){if(""===t.val())return l.html("密码不能为空"),t.select(),t.css("border","1px solid red"),flase;if(console.log(t.val()),!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,14}$/.test(t.val()))return l.html("密码设置不符合要求"),void t.css("border","1px solid red")}return"#code"!==e||(console.log(t.val()),/^[0-9]{6}$/.test(t.val())&&""!==t.val())?(l.html(""),t.css("border","1px solid #ccc"),1):(l.html("请求超时,请稍后再试"),void t.css("border","1px solid red"))}r.click(function(){var e=setInterval(function(){0==c?(r.attr("disabled",!1),r.attr("value","获取验证码"),c=30,clearInterval(e)):(r.attr("disabled",!0),r.attr("value","重新发送("+c+")"),c--)},1e3)}),e.focusout(function(){d("#user")||t.select()}),t.focusout(function(){d("#tel")||t.select()}),l.focusout(function(){d("#pwd")||l.select()}),o.focusout(function(){d("#code")||o.select()}),s.click(function(){d("#user")&&d("#tel")&&d("#pwd")&&d("#code")})});